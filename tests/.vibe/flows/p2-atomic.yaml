name: Atomic Design
description: Nested loops — level loop containing element loop, compose upward

steps:
  # ── Planning ──

  - 1.1 Define design system levels

  # ── Level Loop (Atoms → Molecules → Organisms → Templates → Pages) ──

  - 2.0 Level loop:
      iterate: "levels"
      children:
        - 2.0.1 Element loop:
            iterate: "current_level_elements"
            children:
              - 2.1 Implement element
              - 2.2 Test element
              - 2.3 Element check:
                  next:
                    - if: "element is correct"
                      go: 2.0.1 Element loop
                    - go: 2.1 Implement element

  # ── Integration ──

  - 3.1 Compose final pages

  - 3.2 Integration testing:
      next:
        - if: "all pages render correctly"
          go: Done
        - go: 2.0 Level loop

  - Done:
      type: terminate
      reason: All design system levels complete
