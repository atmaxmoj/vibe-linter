name: BDD Testing Cucumber
description: Scenario loop, step definition 2-way, acceptance fallback

steps:
  # ── Feature Setup ──

  - 1.1 Write feature file

  - 1.2 Define scenarios

  # ── Scenario Loop ──

  - 2.0 Scenario loop:
      iterate: "scenarios"
      children:
        - 2.1 Write step definitions
        - 2.2 Run scenario
        - 2.3 Scenario result:
            next:
              - if: "scenario passes"
                go: 2.0 Scenario loop
              - go: 2.1 Write step definitions

  # ── Acceptance ──

  - 3.1 Run full feature

  - 3.2 Acceptance:
      type: wait
      next:
        - if: "feature accepted"
          go: Done
        - go: 2.0 Scenario loop

  - Done:
      type: terminate
      reason: BDD testing complete
