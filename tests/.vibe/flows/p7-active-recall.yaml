name: Active Recall
description: Topic loop, pass 2-way, mock exam fallback to loop

steps:
  # ── Setup ──

  - 1.1 Define exam topics

  - 1.2 Create study plan

  # ── Topic Loop ──

  - 2.0 Topic loop:
      iterate: "topics"
      children:
        - 2.1 Study topic
        - 2.2 Self-test
        - 2.3 Pass?:
            next:
              - if: "passed self-test"
                go: 2.0 Topic loop
              - go: 2.1 Study topic

  # ── Mock Exam ──

  - 3.1 Take mock exam

  - 3.2 Mock result:
      next:
        - if: "passed mock exam"
          go: Done
        - go: 2.0 Topic loop

  - Done:
      type: terminate
      reason: Exam preparation complete
