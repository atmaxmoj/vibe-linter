name: Progressive Enhancement
description: Enhancement loop, degradation test 2-way, no wait fully autonomous

steps:
  # ── Base Layer ──

  - 1.1 Build base HTML layer

  - 1.2 Test base functionality

  # ── Enhancement Loop ──

  - 2.0 Enhancement loop:
      iterate: "enhancements"
      children:
        - 2.1 Add enhancement layer
        - 2.2 Degradation test:
            next:
              - if: "enhancement works and degrades gracefully"
                go: 2.0 Enhancement loop
              - go: 2.1 Add enhancement layer

  # ── Final Test ──

  - 3.1 Full degradation test:
      next:
        - if: "all layers degrade correctly"
          go: Done
        - go: 2.0 Enhancement loop

  - Done:
      type: terminate
      reason: Progressive enhancement complete
