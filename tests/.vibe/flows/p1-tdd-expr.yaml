name: TDD Development (Expression)
description: TDD with programmatic conditions for automated testing

steps:
  - 1.1 Gather requirements:
      type: wait

  - 1.2 Design architecture

  - 1.3 Design review:
      type: wait
      next:
        - if: "design_approved == true"
          go: 2.0 Feature loop
        - go: 1.2 Design architecture

  - 2.0 Feature loop:
      iterate: "features"
      children:
        - 2.1 Write failing test (Red)
        - 2.2 Write minimal code (Green)
        - 2.3 Refactor
        - 2.4 Run test suite
        - 2.5 Quality check:
            next:
              - if: "quality_pass == true"
                go: 2.0 Feature loop
              - go: 2.2 Write minimal code (Green)

  - 3.1 Integration testing

  - 3.2 Final review:
      type: wait
      next:
        - if: "integration_pass == true"
          go: Done
        - go: 2.0 Feature loop

  - Done:
      type: terminate
      reason: All features implemented and tests pass
