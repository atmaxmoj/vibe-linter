name: Topic Cluster Pillar Page
description: Satellite loop, review fallback to loop for more satellites

steps:
  # ── Planning ──

  - 1.1 Define pillar topic

  - 1.2 Plan satellite articles

  # ── Pillar ──

  - 2.1 Write pillar page

  - 2.2 Pillar review:
      type: wait
      next:
        - if: "pillar page is comprehensive"
          go: 3.0 Satellite loop
        - go: 1.1 Define pillar topic

  # ── Satellite Loop ──

  - 3.0 Satellite loop:
      iterate: "satellites"
      children:
        - 3.1 Write satellite article
        - 3.2 Add internal links

  # ── Review ──

  - 4.1 Internal linking audit

  - 4.2 Cluster review:
      type: wait
      next:
        - if: "topic cluster is complete"
          go: Done
        - go: 3.0 Satellite loop

  - Done:
      type: terminate
      reason: Topic cluster complete
