名称: API-First Development
描述: OpenAPI spec first, endpoint loop, contract test 2-way, integration fallback

步骤:
  # ── Spec Phase ──

  - 1.1 Write OpenAPI spec

  - 1.2 Spec review:
      类型: wait
      下一步:
        - 如果: "spec is approved"
          去: 2.0 Endpoint loop
        - 去: 1.1 Write OpenAPI spec

  # ── Endpoint Loop ──

  - 2.0 Endpoint loop:
      遍历: "endpoints"
      子步骤:
        - 2.1 Implement endpoint
        - 2.2 Write contract tests
        - 2.3 Contract test:
            下一步:
              - 如果: "contract test passes"
                去: 2.0 Endpoint loop
              - 去: 2.1 Implement endpoint

  # ── Integration ──

  - 3.1 Integration testing:
      下一步:
        - 如果: "all endpoints work together"
          去: 3.2 Generate documentation
        - 去: 2.0 Endpoint loop

  - 3.2 Generate documentation

  - Done:
      类型: terminate
      原因: API fully implemented and documented
