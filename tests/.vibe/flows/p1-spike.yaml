name: Spike and Stabilize
description: Rapid prototyping then formal development — 2-way go/no-go with demo wait

steps:
  # ── Spike Phase ──

  - 1.1 Define spike goals

  - 1.2 Build prototype

  - 1.3 Spike evaluation:
      next:
        - if: "spike proves the approach is viable"
          go: 2.0 Development loop
        - go: 1.4 Pivot approach

  - 1.4 Pivot approach:
      next: 1.2 Build prototype

  # ── Formal Development ──

  - 2.0 Development loop:
      iterate: "work_items"
      children:
        - 2.1 Implement feature
        - 2.2 Write tests
        - 2.3 Run tests
        - 2.4 Feature quality check:
            next:
              - if: "feature is complete and tests pass"
                go: 2.0 Development loop
              - go: 2.1 Implement feature

  # ── Demo ──

  - 3.1 Demo to stakeholder:
      type: wait
      next:
        - if: "demo approved"
          go: Done
        - go: 1.4 Pivot approach

  - Done:
      type: terminate
      reason: Spike validated and development complete
